# Go语言

# 开发Go的初衷

- 为了解决Google内部开发的迟缓和笨拙
- 改善开发环境和氛围
- 由主导超大型软件工程开发（谷歌的上百万行代码）的人设计开发和维护

# 特性

- 编译型
- 原生支持并发
- 内置内存垃圾收集器
- 强类型
- 语言级别完全开源

# 优势

- 部署简单： Go 编译生成的是一个静态可执行文件，除了 glibc 外没有其他外部依赖。
- 并发性好： Goroutine 和 channel 使得编写高并发的服务端软件变得相当容易，很多情况下完全不需要考虑锁机制以及由此带来的各种问题。
- 良好的语言设计： 从工程的角度讲，规范足够简单灵活，有其他语言基础的程序员都能迅速上手。
- 执行性能好： 适合编写一些瓶颈业务。内存占用也非常省。

# Go的开发效率

- 快速编译： 相比Java和C++大一点的项目动辄几十分钟，甚至上小时的编译时间，Go只需几秒钟
- 简单精炼的语言设计：使得有编程经验的人熟悉Go语言按天计算，而不需按月计算
- 承载上百上千开发人员一起开发：如果用Ruby或Python等是无法想象的

# Go的性能

- YouTube的3000万的日访问量
- 360的单机80万并发连接，接入的产品约1280万在线用户
- 不输于C的底层内存控制，使得典型的应用也就十到百兆级别，不像Java的动辄上G内存使用

# 用Go的国内公司

## 360的消息推送的数据

- 16台机器，标配：24个硬件线程，64GB内存 
- Linux Kernel 2.6.32 x86_64 
- 单机80万并发连接，load 0.2~0.4，CPU 总使用率 7%~10%，内存占用20GB (res) 
- 目前接入的产品约1280万在线用户 

## 七牛云存储

- 产品网址：http://qiniu.com/
- 上线时间（或预计上线时间）：2011-9-1
- 应用范围：整个产品（包括基础服务、Web端、统计平台、各类小工具等等）
- Go代码行数占比：99.9%
- 日 PV：保密
- 代码行数：近50万行

## 搜狗推送系统

- 上线时间：2013年10月至今
- 应用范围：Push系统中用于维持与客户端连接的部分
- Go代码行数：1W+

## 金山微看

- 网址：www.weikan.cn
- 上线时间：2012年9月
- 应用范围：服务接口，后台流程服务，消息系统，图片系统
- Go代码行数：62838

## 京东云消息推送系统

- 单机并发tcp连接数峰值118w 
- 内存占用23G(Res) 
- Load 0.7左右 
- 心跳包 4k/s 
- gc时间2-3.x s

## 美团后台流量支撑程序

- 产品网址：http://meituan.com
- 应用范围：支撑主站后台流量（排序，推荐，搜索等），提供负载均衡，cache，容错，按条件分流，统计运行指标（qps，latency）等功能，
- 上线时间（或预计上线时间）：2013-8-1
- Go代码行数占比：100%
- 代码行数：约2k

## weico 3.0

- 产品网址：http://weico.com
- 上线时间（或预计上线时间）：2013-9-1
- 应用范围： 服务端所有代码
- Go代码行数占比：100%
- 日 PV：保密
- 代码行数：3万行量级（最近没有统计过）

# 用Go的国外名企

- Uber： 开源了go-torch火焰图性能调优工具
- Dropbox： 使用并开源了一系列Go工具
- New York Times： 日志集群工具
- IBM： 集群代理Clampify
- Twitter： 崩溃统计分析平台
- 和其他200+多家公司 Yahoo, Tumbr, Square, SendGrid...

# 开源世界的Go

## Docker - Go语言开发

- 容器技术先驱和标杆，完全用Go语言开发
- 国内大些的互联网公司都有使用Docker，如百度、阿里巴巴、腾讯、360、京东、大众点评等等

## vitess - 支撑YouTube

- 早在2011年，YouTube就已经应用在生产环境
- 支撑着YouTube的3000万的日访问量

## InfluxDB

- 开源，分布式的时间序列数据库
- Github上155+贡献者
- 广泛应用在数据监控，实时分析领域

## TiDB - 国产的分布式数据库

- 兼容MySQL协议
- 水平无缝扩展
- 多主机数据库事务
- 完全Go开发
